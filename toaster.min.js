let e;const t=t=>{e&&window.clearTimeout(e),s();const{wrapper:n,fragment:o,toasterTemplate:i}=((e,t="ajmtoaster")=>{if(!e)throw new Error("Need to pass options object.");const s=new window.DocumentFragment,n=document.createElement("div"),{theme:o,animation:i,type:r,title:a,message:m}=e;return n.classList.add(t),n.classList.add(`theme-${o}`),n.classList.add("js-ajmtoaster"),n.classList.add(`--animation-${i}`),{wrapper:n,toasterTemplate:`\n  <div class="ajmtoaster__inner --${r} theme-${o}">\n    <p class="ajmtoaster__title theme-${o}">${a}</p>\n    <p class="ajmtoaster__message theme-${o} ${m?"with-message":""}">${m}</p>\n    <button class="js-ajmtoaster__dismiss ajmtoaster__dismiss theme-${o}">&times;</button>\n  </div>\n  `,fragment:s}})(t);((e,t,s)=>{e.insertAdjacentHTML("afterbegin",s),t.appendChild(e),document.body.appendChild(t)})(n,o,i);const r=Array.from(document.querySelectorAll(".js-ajmtoaster__dismiss"));for(const e of r)e.addEventListener("click",s);return t.dismiss&&(t.dismiss=Number.isInteger(t.dismiss)?t.dismiss:1500,e=window.setTimeout(s,t.dismiss)),new Promise(e=>{window.setTimeout(()=>{n.classList.add("--active"),e(n)},200)})},s=()=>{const e=Array.from(document.getElementsByClassName("js-ajmtoaster"));let t=e.length;const n=Array.from(document.querySelectorAll(".js-ajmtoaster__dismiss"));if(n.length)for(const e of n)e.removeEventListener("click",s);for(const t of e)t.classList.remove("--active");const o=e.map(e=>Number.parseFloat(window.getComputedStyle(e).getPropertyValue("--ajmt-duration"))),i=window.Math.max(...o);return new Promise(s=>{window.setTimeout(()=>{for(const t of e)t.parentNode&&t.parentNode.removeChild(t);s(t)},i+100)})},n=function(e){function t(t){const s=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.setAttribute("data-style-name","default_ajmey_toaster"),s.appendChild(n),n.type="text/css";const o=e[t]||e.default;return n.appendChild(document.createTextNode(o)),n}return t.ajmStyleInjector=!0,t},o=()=>{const e=((e="default_ajmey_toaster")=>Array.from(document.getElementsByTagName("style")).filter(t=>t.dataset.styleName===e))();for(const t of e)t.parentNode.removeChild(t)};function i(e={},t){if(t&&("function"!=typeof t||!t.ajmStyleInjector))throw new Error("Provided css injector function is not valid.");this.config={theme:"default",animation:"appear",...e},this.config.injectFn=t,this.config.injectFn&&(o(),t(this.config.theme))}i.type=Symbol("#toaster"),i.version="0.4.0",Object.assign(i,{SUCCESS:"success",FAILURE:"failure",INFO:"info",WARNING:"warning"}),i.titles={[i.SUCCESS]:"Success!",[i.FAILURE]:"Oops...",[i.INFO]:"Note!",[i.WARNING]:"Warning!"};const r=(e,t)=>new i(e,t),a=(e,s,n,r)=>{o(),n.injectFn&&n.injectFn(n.theme),"string"!=typeof s&&(s="");let a=!1;const m=r.title?String(r.title):i.titles[e];return a=e===i.SUCCESS&&!!(e=>void 0===e)(r.dismiss)||r.dismiss,t({...n,...r,type:e,title:m,message:s,dismiss:a})};Object.assign(i.prototype,{[i.type]:i.type,version:i.version,success:function(e="",t={}){return a(i.SUCCESS,e,this.config,t)},failure:function(e="",t={}){return a(i.FAILURE,e,this.config,t)},info:function(e="",t={}){return a(i.INFO,e,this.config,t)},warning:function(e="",t={}){return a(i.WARNING,e,this.config,t)},clear:function(){return s()}}),Object.freeze(i.prototype);export default r;export{n as injectStyles,r as useToaster};
//# sourceMappingURL=toaster.min.js.map
