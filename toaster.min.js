const e=e=>"function"==typeof e,t=function(e){function t(t){const s=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.setAttribute("data-style-name","default_ajmey_toaster"),s.appendChild(o),o.type="text/css";const n=e[t]||e.default;return o.appendChild(document.createTextNode(n)),o}return t.ajmStyleInjector=!0,t},s=()=>{const e=((e="default_ajmey_toaster")=>Array.from(document.getElementsByTagName("style")).filter(t=>t.dataset.styleName===e))();for(const t of e)t.parentNode.removeChild(t)},o={SUCCESS:"success",FAILURE:"failure",INFO:"info",WARNING:"warning"},n={[o.SUCCESS]:"Success!",[o.FAILURE]:"Oops...",[o.INFO]:"Note!",[o.WARNING]:"Warning!"};let r;const a=(t,a,m,c)=>{r&&window.clearTimeout(r),i(),s(),m.injectFn&&m.injectFn(m.theme),"string"!=typeof a&&(a="");const d=m.title?String(m.title):n[t],{wrapper:l,fragment:u,toasterTemplate:p}=((e,t="ajmtoaster")=>{if(!e)throw new Error("Need to pass options object.");const s=new window.DocumentFragment,o=document.createElement("div"),{theme:n,animation:r,type:a,title:i,message:m}=e;o.classList.add(t),o.classList.add("theme-"+n),o.classList.add("js-ajmtoaster"),o.classList.add("--animation-"+r);return{wrapper:o,toasterTemplate:`\n  <div class="ajmtoaster__inner --${a} theme-${n}">\n    <p class="ajmtoaster__title theme-${n}">${i}</p>\n    <p class="ajmtoaster__message theme-${n} ${m?"with-message":""}">${m}</p>\n    <button class="js-ajmtoaster__dismiss ajmtoaster__dismiss theme-${n}">&times;</button>\n  </div>\n  `,fragment:s}})({...m,type:t,title:d,message:a});((e,t,s)=>{e.insertAdjacentHTML("afterbegin",s),t.appendChild(e),document.body.appendChild(t)})(l,u,p);const f=Array.from(document.querySelectorAll(".js-ajmtoaster__dismiss"));for(const e of f)e.addEventListener("click",()=>i(c));return t===o.SUCCESS?((e=>void 0===e)(m.dismiss)||!Number.isInteger(m.dismiss)&&!1!==m.dismiss)&&(m.dismiss=1500):m.dismiss=Number.isInteger(m.dismiss)?m.dismiss:!0===m.dismiss&&1500,m.dismiss&&(r=window.setTimeout(()=>i(c),m.dismiss)),e(c.beforeLoad)&&c.beforeLoad(),new Promise(t=>{window.setTimeout(()=>{l.classList.add("--active"),e(c.loaded)&&c.loaded(),t(l)},200)})},i=t=>{const s=Array.from(document.getElementsByClassName("js-ajmtoaster"));let o=s.length;const n=Array.from(document.querySelectorAll(".js-ajmtoaster__dismiss"));if(n.length)for(const e of n)e.removeEventListener("click",i);for(const e of s)e.classList.remove("--active");const r=s.map(e=>Number.parseFloat(window.getComputedStyle(e).getPropertyValue("--ajmt-duration"))),a=window.Math.max(...r);return t&&e(t.beforeClear)&&t.beforeClear(),new Promise(n=>{window.setTimeout(()=>{for(const e of s)e.parentNode&&e.parentNode.removeChild(e);n(o),t&&e(t.cleared)&&t.cleared()},a+100)})};function m(t={},o){if(o&&(!e(o)||!o.ajmStyleInjector))throw new Error("Provided css injector function is not valid.");this.config={theme:"default",animation:"appear",...t,injectFn:o},o&&(s(),o(this.config.theme))}m.version="0.5.0",m.type=Symbol("#toaster"),m.titles=n,Object.assign(m,o),m.prototype.events={};const c=m.prototype.events;function d(e){return function(t="",s={}){var o;return o=t,"[object Object]"===Object.prototype.toString.call(o)&&(s=t),a(e,t,{...this.config,...s},c)}}const l=(e,t)=>new m(e,t);Object.assign(m.prototype,{[m.type]:m.type,version:m.version,success:d(m.SUCCESS),failure:d(m.FAILURE),info:d(m.INFO),warning:d(m.WARNING),clear:function(){return i(m.prototype.events)},on:function(e,t){this.events[e]=t}}),Object.freeze(m.prototype);export default l;export{t as injectStyles,l as useToaster};
//# sourceMappingURL=toaster.min.js.map
